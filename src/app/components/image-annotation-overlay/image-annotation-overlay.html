<div class="overlay-root" [class.teacher]="role === 'teacher'" [class.student]="role === 'student'">
  <div class="image-container" #containerEl>
    <img
      #imgEl
      [src]="imageUrl || ''"
      alt="handwritten submission"
      class="overlay-image"
      (load)="onImageLoad()"
      draggable="false"
    />

    <div class="overlay-layer" aria-hidden="true">
      @for (box of overlayBoxes; track box.annotationId + '-' + $index) {
      <div
        class="overlay-box"
        [ngClass]="getBoxEdgeClass(box)"
        [ngStyle]="getBoxStyle(box)"
        (mouseenter)="onBoxEnter(box)"
        (mouseleave)="onBoxLeave(box)"
      >
      </div>
      }

      <div
        #tooltipEl
        class="overlay-tooltip"
        [ngStyle]="tooltipStyle"
        style="white-space: pre-line;"
      >{{ tooltipText }}</div>
    </div>
  </div>
</div>
